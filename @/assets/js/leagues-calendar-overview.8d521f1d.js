(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["leagues-calendar-overview","groups-list","leagues-calendar"],{"019f":function(e,t,a){},"01f3":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{},[a("el-row",[a("el-col",{attrs:{md:12}},[a("div",{staticClass:"league-overview-img"})]),a("el-col",{attrs:{md:12}},[e.isOverviewLoading?[a("p",[a("el-tag",{attrs:{size:"medium"}},[e._v(e._s(e.leagueOverview.name))])],1),a("p",[e._v(e._s(e.getAreaName))]),a("p",[e._v(e._s(e.leagueOverview.startDate))])]:[a("i",{staticClass:"el-icon-loading"})]],2)],1),a("el-row",[a("el-col",[a("el-tabs",{on:{"tab-click":e.changeTab},model:{value:e.activeTabName,callback:function(t){e.activeTabName=t},expression:"activeTabName"}},[a("el-tab-pane",{attrs:{label:"Teams",name:"groups-list"}},[a("GroupsList")],1),a("el-tab-pane",{attrs:{label:"Calendar",name:"leagues-calendar"}},[a("LeagueCalendar")],1)],1)],1)],1)],1)},n=[],i=a("1521"),s=a("077e"),u=a("7f6d"),o={name:"LeaguesOverview",components:{LeagueCalendar:i["default"],GroupsList:s["default"]},data:function(){var e,t=(null===(e=this.$route)||void 0===e?void 0:e.name)||"league-calendar";return{activeName:t}},computed:{leagueOverview:function(){var e;return(null===(e=this.$store.state.leagues)||void 0===e?void 0:e.leagueOverview)||{}},getAreaName:function(){var e,t;return(null===(e=this.$store.state.leagues.leagueOverview)||void 0===e||null===(t=e.area)||void 0===t?void 0:t.name)||""},isOverviewLoading:function(){return this.leagueOverview&&this.getAreaName},activeTabName:{get:function(){return this.activeName},set:function(e){this.activeName=e}}},methods:{updateQuery:u["d"],clearFilters:function(){"{}"!==JSON.stringify(this.$route.query)&&this.$router.push({query:{}})},handleClick:function(){this.clearFilters()},changeTab:function(e){var t=e.name;this.activeName=t,this.$router.push({name:t})}}},l=o,c=(a("69a5"),a("2877")),p=Object(c["a"])(l,r,n,!1,null,"3f76885f",null);t["default"]=p.exports},"077e":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"groups-list"},[a("el-row",{attrs:{gutter:20}},[a("el-col",[a("ListFilters",{attrs:{filters:e.filters},on:{search:e.searchTeamsByName,pick:e.searchTeamsByYear,clear:e.clearPicker}})],1)],1),a("el-row",[a("el-col",[a("TeamsGroupTable",{attrs:{"groups-list":e.groupsListData}}),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":e.currentPage,background:"",layout:"prev, pager, next",total:e.total,"hide-on-single-page":""},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.onPaginationChange}})],1)],1)],1)},n=[],i=a("d6f6"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"groups-list"},[e.groupsList.length?a("div",{staticClass:"groups-list__teams"},e._l(e.groupsList,(function(t,r){return a("div",{key:r,staticClass:"groups-list__image-wrapper",on:{click:function(a){return e.onTeamClick(t.id)}}},[a("img",{staticClass:"groups-list__image",attrs:{src:t.crestUrl,alt:t.shortName}}),a("span",[e._v(e._s(t.shortName))])])})),0):[a("p",[e._v("No Data")])]],2)},u=[],o={name:"TemsGroupTable",props:{groupsList:{type:Array,default:function(){return[]}}},methods:{onTeamClick:function(e){this.$router.push({name:"group-calendar",params:{id:e}})}}},l=o,c=(a("3eeb"),a("2877")),p=Object(c["a"])(l,s,u,!1,null,"7cd3c200",null),f=p.exports,d=a("7f6d");function g(e,t){if(null==e)return{};var a,r,n=h(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function h(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={name:"GroupsList",components:{ListFilters:i["a"],TeamsGroupTable:f},data:function(){var e,t=(null===(e=this.$route)||void 0===e?void 0:e.query)||{};return{filters:{searchInput:(null===t||void 0===t?void 0:t.searchInput)||null,pickerData:(null===t||void 0===t?void 0:t.season)||null,pageT:(null===t||void 0===t?void 0:t.pageT)||1},groupsData:[],currentPage:parseInt((null===t||void 0===t?void 0:t.pageT)||1,10),limit:12}},computed:{groupsList:function(){var e;return(null===(e=this.$store.state.groups.teamsList)||void 0===e?void 0:e.teams)||[]},groupsListData:{get:function(){return this.groupsData},set:function(e){this.groupsData=e}},total:function(){var e;return(null===(e=this.$store.state.groups.teamsList)||void 0===e?void 0:e.count)||0}},mounted:function(){this.getGroupsListData()},watch:{filters:{deep:!0,handler:function(){return"update"}}},methods:{updateQuery:d["d"],calculatePages:d["a"],update:function(e){var t=this,a=this.$route.params.id;this.$store.dispatch("groups/GET_TEAMS_LIST",{id:a,params:v({},e)}).then((function(){return t.initList()}))},getGroupsListData:function(){var e=this.$route.query,t=(e.pageT,g(e,["pageT"]));this.update(t)},initList:function(){var e=this.calculatePages(this.currentPage,this.limit),t=e.start,a=e.end;this.groupsListData=Object.assign([],this.groupsList.slice(t,a))},searchTeamsByName:function(){var e=this,t=this.updateQuery(v({},this.$route.query));t.searchInput=this.filters.searchInput,this.groupsListData=this.groupsList.filter((function(t){return t.shortName.toLowerCase().includes(e.filters.searchInput.toLowerCase())})),this.$router.push({query:t})},searchTeamsByYear:function(){var e=this.updateQuery(v({},this.$route.query));e.season=String(new Date(this.filters.pickerData).getFullYear()),this.update({season:e.season}),this.$router.push({query:e})},onPaginationChange:function(){var e=this.updateQuery(v({},this.$route.query));e.pageT=this.currentPage;var t=this.calculatePages(this.currentPage,this.limit),a=t.start,r=t.end;this.groupsListData=Object.assign([],this.groupsList.slice(a,r)),this.$router.push({query:e})},clearPicker:function(){this.$router.push({}),this.filters.pickerData="",this.filters.searchInput="",this.update({})}}},O=y,w=Object(c["a"])(O,r,n,!1,null,null,null);t["default"]=w.exports},1521:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leagues-calendar"},[a("el-row",[a("el-col",[a("CalendarFilter",{attrs:{filters:e.filters},on:{pick:e.updateCalendar,clear:e.clearPicker}})],1)],1),a("el-row",[a("el-col",[a("CalendarTable",{attrs:{"calendar-data":e.leagueCalendarData,loading:e.loading}}),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:e.total,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.onPaginationChange}})],1)],1)],1)},n=[],i=a("f088"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.calendarData}},[a("el-table-column",{attrs:{prop:"group",label:"Group"}}),a("el-table-column",{attrs:{prop:"awayTeam",label:"Away Team"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.awayTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"homeTeam",label:"Home Team"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.homeTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Winner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.score.winner?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.score.winner)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Score",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e.getScore(t.row.score)))])]}}])}),a("el-table-column",{attrs:{prop:"utcDate",label:"Date",width:"142px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.formatDate(t.row.utcDate))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"CANCELED"===t.row.status?"danger":"info"}},[e._v(e._s(t.row.status)+" ")])]}}])})],1)},u=[],o=a("7f6d"),l={name:"CalendarTable",props:{calendarData:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{getScore:o["c"],formatDate:o["b"]}},c=l,p=a("2877"),f=Object(p["a"])(c,s,u,!1,null,"0db8a5fe",null),d=f.exports;function g(e,t){if(null==e)return{};var a,r,n=h(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function h(e,t){if(null==e)return{};var a,r,n={},i=Object.keys(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){b(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function b(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={name:"LeaguesCalendar",components:{CalendarFilter:i["a"],CalendarTable:d},data:function(){var e,t=(null===(e=this.$route)||void 0===e?void 0:e.query)||{};return{filters:{pickerData:[(null===t||void 0===t?void 0:t.dateFrom)||"",(null===t||void 0===t?void 0:t.dateTo)||""],page:(null===t||void 0===t?void 0:t.page)||1},currentPage:parseInt((null===t||void 0===t?void 0:t.page)||1,10),limit:10,calendarData:[],loading:!1}},computed:{leagueCalendar:function(){return this.$store.state.leagues.leagueCalendar.matches||[]},leagueCalendarData:{get:function(){return this.calendarData},set:function(e){this.calendarData=e}},total:function(){var e;return(null===(e=this.$store.state.leagues.leagueCalendar)||void 0===e?void 0:e.total)||0}},mounted:function(){this.getLeagueData()},watch:{filters:{deep:!0,handler:function(){return"update"}}},methods:{formatDate:o["b"],updateQuery:o["d"],calculatePages:o["a"],update:function(e){var t=this,a=this.$route.params.id;this.loading=!0,this.$store.dispatch("leagues/GET_LEAGUES_BY_ID",{id:a,params:v({},e)}).then((function(){return t.initList()})).finally((function(){return t.loading=!1}))},getLeagueData:function(){var e=this.$route.query,t=(e.page,g(e,["page"]));this.update(t)},updateCalendar:function(){var e=this.updateQuery(v({},this.$route.query)),t=this.formatDate(this.filters.pickerData[0],!1),a=this.formatDate(this.filters.pickerData[1],!1);e.dateFrom=t,e.dateTo=a,this.update({dateFrom:t,dateTo:a}),this.$router.push({query:e})},initList:function(){var e=this.calculatePages(this.currentPage,this.limit),t=e.start,a=e.end;this.calendarData=Object.assign([],this.leagueCalendar.slice(t,a))},onPaginationChange:function(){var e=this.updateQuery(v({},this.$route.query));e.page=this.currentPage;var t=this.calculatePages(this.currentPage,this.limit),a=t.start,r=t.end;this.leagueCalendarData=Object.assign([],this.leagueCalendar.slice(a,r)),this.$router.push({query:e})},clearPicker:function(){this.$router.push({}),this.filters.pickerData=["",""],this.getLeagueData()}}},O=y,w=(a("f000"),Object(p["a"])(O,r,n,!1,null,"786ccac8",null));t["default"]=w.exports},"247f":function(e,t,a){},"34c1":function(e,t,a){},"3eeb":function(e,t,a){"use strict";a("88f5")},"69a5":function(e,t,a){"use strict";a("247f")},"6a2d":function(e,t,a){},"7f6d":function(e,t,a){"use strict";function r(e){return!e.extraTime.awayTeam&&e.fullTime.awayTeam&&e.fullTime.homeTeam?"".concat(e.fullTime.awayTeam,":").concat(e.fullTime.homeTeam):e.extraTime.awayTeam&&e.extraTime.homeTeam?"".concat(e.extraTime.awayTeam,":").concat(e.extraTime.homeTeam):"-"}function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"-";var a=new Date(e),r=a.getDate()<10?"0".concat(a.getDate()):a.getDate(),n=a.getMonth()+1<10?"0".concat(a.getMonth()+1):a.getMonth()+1,i=a.getFullYear(),s=a.getHours()<10?"0".concat(a.getHours()):a.getHours(),u=a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes();return t?"".concat(i,"-").concat(n,"-").concat(r," ").concat(s,":").concat(u):"".concat(i,"-").concat(n,"-").concat(r)}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var a in e)e[a]&&(t[a]=e[a]);return t}function s(e,t){var a=(e-1)*t,r=a+t;return{start:a,end:r}}a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return i})),a.d(t,"a",(function(){return s}))},"88f5":function(e,t,a){},"9a2f":function(e,t,a){"use strict";a("019f")},a58b:function(e,t,a){"use strict";a("34c1")},d6f6:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[a("el-col",{staticStyle:{display:"flex"},attrs:{md:8}},[a("el-date-picker",{attrs:{type:"year",placeholder:"Pick a year",clearable:!1},on:{change:e.searchYear},model:{value:e.filters.pickerData,callback:function(t){e.$set(e.filters,"pickerData",t)},expression:"filters.pickerData"}})],1),a("el-col",{staticStyle:{display:"flex"},attrs:{md:16}},[a("el-input",{staticStyle:{"max-width":"591px"},attrs:{placeholder:e.inputPlaceholder},model:{value:e.filters.searchInput,callback:function(t){e.$set(e.filters,"searchInput",t)},expression:"filters.searchInput"}},[a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.searchData},slot:"append"})],1)],1),a("el-col",{attrs:{xs:24,sm:3}},[a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info"},on:{click:function(t){return e.$emit("clear")}}},[e._v("Clear")])],1)],1)},n=[],i={name:"LeaguesListFilters",props:{filters:{type:Object,required:!0},inputPlaceholder:{type:String,default:"Type command name..."}},methods:{searchData:function(){this.$emit("search")},searchYear:function(){this.$emit("pick")}}},s=i,u=(a("a58b"),a("2877")),o=Object(u["a"])(s,r,n,!1,null,"a38e5f26",null);t["a"]=o.exports},f000:function(e,t,a){"use strict";a("6a2d")},f088:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leagues-calendar__wrapper"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"Start Date","end-placeholder":"End Date",clearable:!1},on:{change:e.onPickerChange},model:{value:e.filters.pickerData,callback:function(t){e.$set(e.filters,"pickerData",t)},expression:"filters.pickerData"}}),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("clear")}}},[e._v("Clear")])],1)},n=[],i={name:"CalendarFilter",props:{filters:{type:Object,required:!0}},methods:{onPickerChange:function(){this.$emit("pick")}}},s=i,u=(a("9a2f"),a("2877")),o=Object(u["a"])(s,r,n,!1,null,"550c76d8",null);t["a"]=o.exports}}]);
//# sourceMappingURL=leagues-calendar-overview.8d521f1d.js.map