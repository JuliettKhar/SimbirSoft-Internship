(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["leagues-calendar"],{"019f":function(e,t,a){},1521:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leagues-calendar"},[a("el-row",[a("el-col",[a("CalendarFilter",{attrs:{filters:e.filters},on:{pick:e.updateCalendar,clear:e.clearPicker}})],1)],1),a("el-row",[a("el-col",[a("CalendarTable",{attrs:{"calendar-data":e.leagueCalendarData,loading:e.loading}}),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{background:"",layout:"prev, pager, next",total:e.total,"current-page":e.currentPage},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.onPaginationChange}})],1)],1)],1)},n=[],o=a("f088"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.calendarData}},[a("el-table-column",{attrs:{prop:"group",label:"Group"}}),a("el-table-column",{attrs:{prop:"awayTeam",label:"Away Team"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.awayTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"homeTeam",label:"Home Team"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(t.row.homeTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Winner",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.score.winner?a("el-tag",{attrs:{type:"success"}},[e._v(e._s(t.row.score.winner)+" ")]):e._e()]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Score",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",[e._v(e._s(e.getScore(t.row.score)))])]}}])}),a("el-table-column",{attrs:{prop:"utcDate",label:"Date",width:"142px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticStyle:{"white-space":"nowrap"}},[e._v(" "+e._s(e.formatDate(t.row.utcDate))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-tag",{attrs:{type:"CANCELED"===t.row.status?"danger":"info"}},[e._v(e._s(t.row.status)+" ")])]}}])})],1)},i=[],c=a("7f6d"),u={name:"CalendarTable",props:{calendarData:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{getScore:c["c"],formatDate:c["b"]}},s=u,d=a("2877"),f=Object(d["a"])(s,l,i,!1,null,"0db8a5fe",null),p=f.exports;function g(e,t){if(null==e)return{};var a,r,n=h(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}function h(e,t){if(null==e)return{};var a,r,n={},o=Object.keys(e);for(r=0;r<o.length;r++)a=o[r],t.indexOf(a)>=0||(n[a]=e[a]);return n}function m(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function b(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?m(Object(a),!0).forEach((function(t){v(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function v(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var y={name:"LeaguesCalendar",components:{CalendarFilter:o["a"],CalendarTable:p},data:function(){var e,t=(null===(e=this.$route)||void 0===e?void 0:e.query)||{};return{filters:{pickerData:[(null===t||void 0===t?void 0:t.dateFrom)||"",(null===t||void 0===t?void 0:t.dateTo)||""],page:(null===t||void 0===t?void 0:t.page)||1},currentPage:parseInt((null===t||void 0===t?void 0:t.page)||1,10),limit:10,calendarData:[],loading:!1}},computed:{leagueCalendar:function(){return this.$store.state.leagues.leagueCalendar.matches||[]},leagueCalendarData:{get:function(){return this.calendarData},set:function(e){this.calendarData=e}},total:function(){var e;return(null===(e=this.$store.state.leagues.leagueCalendar)||void 0===e?void 0:e.total)||0}},mounted:function(){this.getLeagueData()},watch:{filters:{deep:!0,handler:function(){return"update"}}},methods:{formatDate:c["b"],updateQuery:c["d"],calculatePages:c["a"],update:function(e){var t=this,a=this.$route.params.id;this.loading=!0,this.$store.dispatch("leagues/GET_LEAGUES_BY_ID",{id:a,params:b({},e)}).then((function(){return t.initList()})).finally((function(){return t.loading=!1}))},getLeagueData:function(){var e=this.$route.query,t=(e.page,g(e,["page"]));this.update(t)},updateCalendar:function(){var e=this.updateQuery(b({},this.$route.query)),t=this.formatDate(this.filters.pickerData[0],!1),a=this.formatDate(this.filters.pickerData[1],!1);e.dateFrom=t,e.dateTo=a,this.update({dateFrom:t,dateTo:a}),this.$router.push({query:e})},initList:function(){var e=this.calculatePages(this.currentPage,this.limit),t=e.start,a=e.end;this.calendarData=Object.assign([],this.leagueCalendar.slice(t,a))},onPaginationChange:function(){var e=this.updateQuery(b({},this.$route.query));e.page=this.currentPage;var t=this.calculatePages(this.currentPage,this.limit),a=t.start,r=t.end;this.leagueCalendarData=Object.assign([],this.leagueCalendar.slice(a,r)),this.$router.push({query:e})},clearPicker:function(){this.$router.push({}),this.filters.pickerData=["",""],this.getLeagueData()}}},w=y,D=(a("f000"),Object(d["a"])(w,r,n,!1,null,"786ccac8",null));t["default"]=D.exports},"6a2d":function(e,t,a){},"7f6d":function(e,t,a){"use strict";function r(e){return!e.extraTime.awayTeam&&e.fullTime.awayTeam&&e.fullTime.homeTeam?"".concat(e.fullTime.awayTeam,":").concat(e.fullTime.homeTeam):e.extraTime.awayTeam&&e.extraTime.homeTeam?"".concat(e.extraTime.awayTeam,":").concat(e.extraTime.homeTeam):"-"}function n(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return"-";var a=new Date(e),r=a.getDate()<10?"0".concat(a.getDate()):a.getDate(),n=a.getMonth()+1<10?"0".concat(a.getMonth()+1):a.getMonth()+1,o=a.getFullYear(),l=a.getHours()<10?"0".concat(a.getHours()):a.getHours(),i=a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes();return t?"".concat(o,"-").concat(n,"-").concat(r," ").concat(l,":").concat(i):"".concat(o,"-").concat(n,"-").concat(r)}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};for(var a in e)e[a]&&(t[a]=e[a]);return t}function l(e,t){var a=(e-1)*t,r=a+t;return{start:a,end:r}}a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l}))},"9a2f":function(e,t,a){"use strict";a("019f")},f000:function(e,t,a){"use strict";a("6a2d")},f088:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"leagues-calendar__wrapper"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"Start Date","end-placeholder":"End Date",clearable:!1},on:{change:e.onPickerChange},model:{value:e.filters.pickerData,callback:function(t){e.$set(e.filters,"pickerData",t)},expression:"filters.pickerData"}}),a("el-button",{attrs:{type:"info"},on:{click:function(t){return e.$emit("clear")}}},[e._v("Clear")])],1)},n=[],o={name:"CalendarFilter",props:{filters:{type:Object,required:!0}},methods:{onPickerChange:function(){this.$emit("pick")}}},l=o,i=(a("9a2f"),a("2877")),c=Object(i["a"])(l,r,n,!1,null,"550c76d8",null);t["a"]=c.exports}}]);
//# sourceMappingURL=leagues-calendar.a1c6c3be.js.map