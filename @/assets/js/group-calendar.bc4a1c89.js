(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["group-calendar"],{"019f":function(t,e,a){},"3a67":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leagues-calendar"},[a("el-row",[a("el-col",[a("CalendarFilter",{attrs:{filters:t.filters},on:{pick:t.updateCalendar,clear:t.clearPicker}})],1)],1),a("el-row",[a("el-col",[a("TeamsCalendarTable",{attrs:{"teams-data":t.matchesData,loading:t.loading}}),a("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next",total:t.total,"hide-on-single-page":""},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.onPaginationChange}})],1)],1)],1)},n=[],o=a("f088"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],attrs:{data:t.teamsData}},[a("el-table-column",{attrs:{prop:"group",label:"Group",width:"140"}}),a("el-table-column",{attrs:{prop:"awayTeam",label:"Away Team",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.awayTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"homeTeam",label:"Home Team"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(e.row.homeTeam.name)+" ")]}}])}),a("el-table-column",{attrs:{prop:"score",label:"Score"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("p",[t._v(t._s(t.getScore(e.row.score)))])]}}])}),a("el-table-column",{attrs:{prop:"utcDate",label:"Date"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticStyle:{"white-space":"nowrap"}},[t._v(" "+t._s(t.formatDate(e.row.utcDate))+" ")])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"Status"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:"CANCELED"===e.row.status?"danger":"info"}},[t._v(t._s(e.row.status)+" ")])]}}])})],1)},c=[],u=a("7f6d"),s={name:"TeamsCalendarTable",props:{teamsData:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1}},methods:{getScore:u["c"],formatDate:u["b"]}},l=s,d=a("2877"),p=Object(d["a"])(l,i,c,!1,null,"7b104fa2",null),f=p.exports;function m(t,e){if(null==t)return{};var a,r,n=h(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(t,a)&&(n[a]=t[a])}return n}function h(t,e){if(null==t)return{};var a,r,n={},o=Object.keys(t);for(r=0;r<o.length;r++)a=o[r],e.indexOf(a)>=0||(n[a]=t[a]);return n}function g(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,r)}return a}function b(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?g(Object(a),!0).forEach((function(e){v(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function v(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var y={name:"GroupCalendar",components:{CalendarFilter:o["a"],TeamsCalendarTable:f},data:function(){var t,e=(null===(t=this.$route)||void 0===t?void 0:t.query)||{};return{filters:{pickerData:[(null===e||void 0===e?void 0:e.dateFrom)||"",(null===e||void 0===e?void 0:e.dateTo)||""],page:(null===e||void 0===e?void 0:e.page)||1},currentPage:parseInt((null===e||void 0===e?void 0:e.page)||1,10),limit:10,matchesList:[],loading:!1}},computed:{matches:function(){var t;return(null===(t=this.$store.state.groups)||void 0===t?void 0:t.matches.matches)||[]},matchesData:{get:function(){return this.matchesList},set:function(t){this.matchesList=t}},total:function(){var t;return(null===(t=this.$store.state.groups.matches)||void 0===t?void 0:t.count)||0}},mounted:function(){this.getTeamData()},watch:{"$route.query":"update"},methods:{formatDate:u["b"],updateQuery:u["d"],calculatePages:u["a"],update:function(t){var e=this,a=this.$route.params.id;this.loading=!0,this.$store.dispatch("groups/GET_MATCHES",{id:a,params:b({},t)}).then((function(){return e.initList()})).finally((function(){return e.loading=!1}))},getTeamData:function(){var t=this.$route.query,e=(t.page,m(t,["page"]));this.update(e)},updateCalendar:function(){var t=this.updateQuery(b({},this.$route.query)),e=this.formatDate(this.filters.pickerData[0],!1),a=this.formatDate(this.filters.pickerData[1],!1);t.dateFrom=e,t.dateTo=a,this.update({dateFrom:e,dateTo:a}),this.$router.push({query:t}),this.initList()},initList:function(){var t=this.calculatePages(this.currentPage,this.limit),e=t.start,a=t.end;this.matchesData=Object.assign([],this.matches.slice(e,a))},onPaginationChange:function(){var t=this.updateQuery(b({},this.$route.query));t.page=this.currentPage;var e=this.calculatePages(this.currentPage,this.limit),a=e.start,r=e.end;this.matchesData=Object.assign([],this.matches.slice(a,r)),this.$router.push({query:t})},clearPicker:function(){var t=this.$route.query,e=(t.dateFrom,t.dateTo,m(t,["dateFrom","dateTo"])),a=this.updateQuery(b({dateFrom:"",dateTo:""},e));this.$router.push({query:a}),this.filters.pickerData=["",""],this.update(a)}}},T=y,w=(a("dac4"),Object(d["a"])(T,r,n,!1,null,"9adc3ac0",null));e["default"]=w.exports},"7f6d":function(t,e,a){"use strict";function r(t){return!t.extraTime.awayTeam&&t.fullTime.awayTeam&&t.fullTime.homeTeam?"".concat(t.fullTime.awayTeam,":").concat(t.fullTime.homeTeam):t.extraTime.awayTeam&&t.extraTime.homeTeam?"".concat(t.extraTime.awayTeam,":").concat(t.extraTime.homeTeam):"-"}function n(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"-";var a=new Date(t),r=a.getDate()<10?"0".concat(a.getDate()):a.getDate(),n=a.getMonth()+1<10?"0".concat(a.getMonth()+1):a.getMonth()+1,o=a.getFullYear(),i=a.getHours()<10?"0".concat(a.getHours()):a.getHours(),c=a.getMinutes()<10?"0".concat(a.getMinutes()):a.getMinutes();return e?"".concat(o,"-").concat(n,"-").concat(r," ").concat(i,":").concat(c):"".concat(o,"-").concat(n,"-").concat(r)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var a in t)t[a]&&(e[a]=t[a]);return e}function i(t,e){var a=(t-1)*e,r=a+e;return{start:a,end:r}}a.d(e,"c",(function(){return r})),a.d(e,"b",(function(){return n})),a.d(e,"d",(function(){return o})),a.d(e,"a",(function(){return i}))},"9a2f":function(t,e,a){"use strict";a("019f")},bb09:function(t,e,a){},dac4:function(t,e,a){"use strict";a("bb09")},f088:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"leagues-calendar__wrapper"},[a("el-date-picker",{attrs:{type:"daterange","start-placeholder":"Start Date","end-placeholder":"End Date",clearable:!1},on:{change:t.onPickerChange},model:{value:t.filters.pickerData,callback:function(e){t.$set(t.filters,"pickerData",e)},expression:"filters.pickerData"}}),a("el-button",{attrs:{type:"info"},on:{click:function(e){return t.$emit("clear")}}},[t._v("Clear")])],1)},n=[],o={name:"CalendarFilter",props:{filters:{type:Object,required:!0}},methods:{onPickerChange:function(){this.$emit("pick")}}},i=o,c=(a("9a2f"),a("2877")),u=Object(c["a"])(i,r,n,!1,null,"550c76d8",null);e["a"]=u.exports}}]);
//# sourceMappingURL=group-calendar.bc4a1c89.js.map