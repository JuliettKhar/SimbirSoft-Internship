(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["groups-list"],{"077e":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"groups-list"},[r("el-row",{attrs:{gutter:20}},[r("el-col",[r("ListFilters",{attrs:{filters:t.filters},on:{search:t.searchTeamsByName,pick:t.searchTeamsByYear,clear:t.clearPicker}})],1)],1),r("el-row",[r("el-col",[r("TeamsGroupTable",{attrs:{"groups-list":t.groupsListData}}),r("el-pagination",{staticStyle:{"margin-top":"20px"},attrs:{"current-page":t.currentPage,background:"",layout:"prev, pager, next",total:t.total,"hide-on-single-page":""},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"current-change":t.onPaginationChange}})],1)],1)],1)},n=[],s=r("d6f6"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"groups-list"},[t.groupsList.length?r("div",{staticClass:"groups-list__teams"},t._l(t.groupsList,(function(e,a){return r("div",{key:a,staticClass:"groups-list__image-wrapper",on:{click:function(r){return t.onTeamClick(e.id)}}},[r("img",{staticClass:"groups-list__image",attrs:{src:e.crestUrl,alt:e.shortName}}),r("span",[t._v(t._s(e.shortName))])])})),0):[r("p",[t._v("No Data")])]],2)},o=[],u={name:"TemsGroupTable",props:{groupsList:{type:Array,default:function(){return[]}}},methods:{onTeamClick:function(t){this.$router.push({name:"group-calendar",params:{id:t}})}}},c=u,l=(r("3eeb"),r("2877")),p=Object(l["a"])(c,i,o,!1,null,"7cd3c200",null),f=p.exports,h=r("7f6d");function g(t,e){if(null==t)return{};var r,a,n=d(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function d(t,e){if(null==t)return{};var r,a,n={},s=Object.keys(t);for(a=0;a<s.length;a++)r=s[a],e.indexOf(r)>=0||(n[r]=t[r]);return n}function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,a)}return r}function y(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){v(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function v(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var b={name:"GroupsList",components:{ListFilters:s["a"],TeamsGroupTable:f},data:function(){var t,e=(null===(t=this.$route)||void 0===t?void 0:t.query)||{};return{filters:{searchInput:(null===e||void 0===e?void 0:e.searchInput)||null,pickerData:(null===e||void 0===e?void 0:e.season)||null,pageT:(null===e||void 0===e?void 0:e.pageT)||1},groupsData:[],currentPage:parseInt((null===e||void 0===e?void 0:e.pageT)||1,10),limit:12}},computed:{groupsList:function(){var t;return(null===(t=this.$store.state.groups.teamsList)||void 0===t?void 0:t.teams)||[]},groupsListData:{get:function(){return this.groupsData},set:function(t){this.groupsData=t}},total:function(){var t;return(null===(t=this.$store.state.groups.teamsList)||void 0===t?void 0:t.count)||0}},mounted:function(){this.getGroupsListData()},watch:{filters:{deep:!0,handler:function(){return"update"}}},methods:{updateQuery:h["d"],calculatePages:h["a"],update:function(t){var e=this,r=this.$route.params.id;this.$store.dispatch("groups/GET_TEAMS_LIST",{id:r,params:y({},t)}).then((function(){return e.initList()}))},getGroupsListData:function(){var t=this.$route.query,e=(t.pageT,g(t,["pageT"]));this.update(e)},initList:function(){var t=this.calculatePages(this.currentPage,this.limit),e=t.start,r=t.end;this.groupsListData=Object.assign([],this.groupsList.slice(e,r))},searchTeamsByName:function(){var t=this,e=this.updateQuery(y({},this.$route.query));e.searchInput=this.filters.searchInput,this.groupsListData=this.groupsList.filter((function(e){return e.shortName.toLowerCase().includes(t.filters.searchInput.toLowerCase())})),this.$router.push({query:e})},searchTeamsByYear:function(){var t=this.updateQuery(y({},this.$route.query));t.season=String(new Date(this.filters.pickerData).getFullYear()),this.update({season:t.season}),this.$router.push({query:t})},onPaginationChange:function(){var t=this.updateQuery(y({},this.$route.query));t.pageT=this.currentPage;var e=this.calculatePages(this.currentPage,this.limit),r=e.start,a=e.end;this.groupsListData=Object.assign([],this.groupsList.slice(r,a)),this.$router.push({query:t})},clearPicker:function(){this.$router.push({}),this.filters.pickerData="",this.filters.searchInput="",this.update({})}}},T=b,O=Object(l["a"])(T,a,n,!1,null,null,null);e["default"]=O.exports},"34c1":function(t,e,r){},"3eeb":function(t,e,r){"use strict";r("88f5")},"7f6d":function(t,e,r){"use strict";function a(t){return!t.extraTime.awayTeam&&t.fullTime.awayTeam&&t.fullTime.homeTeam?"".concat(t.fullTime.awayTeam,":").concat(t.fullTime.homeTeam):t.extraTime.awayTeam&&t.extraTime.homeTeam?"".concat(t.extraTime.awayTeam,":").concat(t.extraTime.homeTeam):"-"}function n(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!t)return"-";var r=new Date(t),a=r.getDate()<10?"0".concat(r.getDate()):r.getDate(),n=r.getMonth()+1<10?"0".concat(r.getMonth()+1):r.getMonth()+1,s=r.getFullYear(),i=r.getHours()<10?"0".concat(r.getHours()):r.getHours(),o=r.getMinutes()<10?"0".concat(r.getMinutes()):r.getMinutes();return e?"".concat(s,"-").concat(n,"-").concat(a," ").concat(i,":").concat(o):"".concat(s,"-").concat(n,"-").concat(a)}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={};for(var r in t)t[r]&&(e[r]=t[r]);return e}function i(t,e){var r=(t-1)*e,a=r+e;return{start:r,end:a}}r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return n})),r.d(e,"d",(function(){return s})),r.d(e,"a",(function(){return i}))},"88f5":function(t,e,r){},a58b:function(t,e,r){"use strict";r("34c1")},d6f6:function(t,e,r){"use strict";var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-row",{attrs:{gutter:20,type:"flex",justify:"start"}},[r("el-col",{staticStyle:{display:"flex"},attrs:{md:8}},[r("el-date-picker",{attrs:{type:"year",placeholder:"Pick a year",clearable:!1},on:{change:t.searchYear},model:{value:t.filters.pickerData,callback:function(e){t.$set(t.filters,"pickerData",e)},expression:"filters.pickerData"}})],1),r("el-col",{staticStyle:{display:"flex"},attrs:{md:16}},[r("el-input",{staticStyle:{"max-width":"591px"},attrs:{placeholder:t.inputPlaceholder},model:{value:t.filters.searchInput,callback:function(e){t.$set(t.filters,"searchInput",e)},expression:"filters.searchInput"}},[r("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:t.searchData},slot:"append"})],1)],1),r("el-col",{attrs:{xs:24,sm:3}},[r("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"info"},on:{click:function(e){return t.$emit("clear")}}},[t._v("Clear")])],1)],1)},n=[],s={name:"LeaguesListFilters",props:{filters:{type:Object,required:!0},inputPlaceholder:{type:String,default:"Type command name..."}},methods:{searchData:function(){this.$emit("search")},searchYear:function(){this.$emit("pick")}}},i=s,o=(r("a58b"),r("2877")),u=Object(o["a"])(i,a,n,!1,null,"a38e5f26",null);e["a"]=u.exports}}]);
//# sourceMappingURL=groups-list.3642fd32.js.map